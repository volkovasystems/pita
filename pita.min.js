var gulp=require("gulp"),uglify=require("gulp-uglify"),rename=require("gulp-rename"),sourcemaps=require("gulp-sourcemaps"),del=require("del"),vinylPaths=require("vinyl-paths"),fs=require("fs"),path=require("path"),pita=function(e){for(var r="@script.js".replace("@script",e),p="@script.min.js".replace("@script",e),i="./";!fs.existsSync(path.resolve(i,r));)i="../"+i;console.log(i),gulp.task("clean",function(){return console.log("cleaning previous script version ",path.resolve(i,p)),gulp.src(path.resolve(i,p)).pipe(vinylPaths(del))}),gulp.task("default",["clean"],function(){return console.log("flattening script ",path.resolve(i,r)),gulp.src(path.resolve(i,r)).pipe(sourcemaps.init()).pipe(uglify()).pipe(rename(p)).pipe(sourcemaps.write(i)).pipe(gulp.dest(i))})};module.exports=pita;
//# sourceMappingURL=pita.min.js.map